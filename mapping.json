{
  "system_info": {
    "label": "System Status",
    "inputs": [
      {
        "role": "growth_phase",
        "label": "Growth Phase",
        "entity_id": "input_select.cannabis_growth_phase",
        "type": "input_select"
      },
      {
        "role": "steering_week",
        "label": "Steering Week",
        "entity_id": "input_select.crop_steering_week",
        "type": "input_select"
      },
      {
        "role": "day_counter",
        "label": "Day Counter",
        "entity_id": "input_number.crop_day_counter",
        "type": "input_number"
      },
      {
        "role": "grow_start_date",
        "label": "Grow Start",
        "entity_id": "input_datetime.grow_start_date",
        "type": "input_datetime"
      }
    ],
    "targets": [
      {
        "role": "phase_duration",
        "label": "Phase Duration",
        "entity_id": "sensor.crop_phase_duration",
        "unit": "days"
      },
      {
        "role": "day_in_week",
        "label": "Day in Week",
        "entity_id": "sensor.crop_day_in_week",
        "unit": "day"
      }
    ]
  },
  "climate_targets": {
    "label": "Climate Targets",
    "targets": [
      {
        "role": "vpd_day_min",
        "label": "VPD Day Min",
        "entity_id": "sensor.grow_vpd_day_min",
        "unit": "kPa"
      },
      {
        "role": "vpd_day_max",
        "label": "VPD Day Max",
        "entity_id": "sensor.grow_vpd_day_max",
        "unit": "kPa"
      },
      {
        "role": "temp_day_min",
        "label": "Temp Day Min",
        "entity_id": "sensor.grow_temperature_day_min",
        "unit": "°C"
      },
      {
        "role": "temp_day_max",
        "label": "Temp Day Max",
        "entity_id": "sensor.grow_temperature_day_max",
        "unit": "°C"
      },
      {
        "role": "hum_day_min",
        "label": "Humidity Day Min",
        "entity_id": "sensor.grow_humidity_day_min",
        "unit": "%"
      },
      {
        "role": "hum_day_max",
        "label": "Humidity Day Max",
        "entity_id": "sensor.grow_humidity_day_max",
        "unit": "%"
      },
      {
        "role": "vpd_night_min",
        "label": "VPD Night Min",
        "entity_id": "sensor.grow_vpd_night_min",
        "unit": "kPa"
      },
      {
        "role": "vpd_night_max",
        "label": "VPD Night Max",
        "entity_id": "sensor.grow_vpd_night_max",
        "unit": "kPa"
      },
      {
        "role": "temp_night_min",
        "label": "Temp Night Min",
        "entity_id": "sensor.grow_temperature_night_min",
        "unit": "°C"
      },
      {
        "role": "temp_night_max",
        "label": "Temp Night Max",
        "entity_id": "sensor.grow_temperature_night_max",
        "unit": "°C"
      },
      {
        "role": "hum_night_min",
        "label": "Humidity Night Min",
        "entity_id": "sensor.grow_humidity_night_min",
        "unit": "%"
      },
      {
        "role": "hum_night_max",
        "label": "Humidity Night Max",
        "entity_id": "sensor.grow_humidity_night_max",
        "unit": "%"
      }
    ]
  },
  "climate_controls": {
    "label": "Climate Control",
    "inputs": [
      {
        "role": "hvac_mode",
        "label": "HVAC Mode",
        "entity_id": "climate.grow_room",
        "type": "climate_mode"
      },
      {
        "role": "temp_setpoint",
        "label": "Temp Setpoint",
        "entity_id": "climate.grow_room",
        "type": "climate_temperature",
        "unit": "°C"
      },
      {
        "role": "humidity_setpoint",
        "label": "Humidity Setpoint",
        "entity_id": "humidifier.grow_room",
        "type": "humidifier_target",
        "unit": "%"
      }
    ]
  },
  "climate_actuators": {
    "label": "Climate Actuators",
    "inputs": [
      {
        "role": "heater_switch",
        "label": "Heater",
        "entity_id": "switch.grow_heater",
        "type": "switch"
      },
      {
        "role": "ac_switch",
        "label": "AC",
        "entity_id": "switch.grow_ac",
        "type": "switch"
      },
      {
        "role": "dehumidifier_switch",
        "label": "Dehumidifier",
        "entity_id": "switch.grow_dehumidifier",
        "type": "switch"
      },
      {
        "role": "humidifier_switch",
        "label": "Humidifier",
        "entity_id": "switch.grow_humidifier",
        "type": "switch"
      },
      {
        "role": "circulation_fan",
        "label": "Circulation Fan",
        "entity_id": "fan.grow_circulation",
        "type": "fan_percentage",
        "unit": "%"
      }
    ]
  },
  "irrigation_controls": {
    "label": "Irrigation Control",
    "inputs": [
      {
        "role": "irrigation_enable",
        "label": "Irrigation Enable",
        "entity_id": "switch.grow_irrigation",
        "type": "switch"
      },
      {
        "role": "irrigation_pulse",
        "label": "Irrigation Pulse",
        "type": "script"
      },
      {
        "role": "flush_run",
        "label": "Flush Run",
        "type": "script"
      }
    ]
  },
  "co2_controls": {
    "label": "CO₂ Control",
    "inputs": [
      {
        "role": "co2_enable",
        "label": "CO₂ Enable",
        "entity_id": "switch.grow_co2",
        "type": "switch"
      },
      {
        "role": "co2_target",
        "label": "CO₂ Target",
        "entity_id": "number.grow_co2_target",
        "type": "number",
        "unit": "ppm"
      }
    ]
  },
  "substrate_targets": {
    "label": "Substrate Targets",
    "targets": [
      {
        "role": "vwc_day_min",
        "label": "VWC Day Min",
        "entity_id": "sensor.grow_vwc_day_min",
        "unit": "%",
        "optional": true
      },
      {
        "role": "vwc_day_max",
        "label": "VWC Day Max",
        "entity_id": "sensor.grow_vwc_day_max",
        "unit": "%",
        "optional": true
      },
      {
        "role": "ecp_day_min",
        "label": "ECp Day Min",
        "entity_id": "sensor.grow_ecp_day_min",
        "unit": "mS/cm",
        "optional": true
      },
      {
        "role": "ecp_day_max",
        "label": "ECp Day Max",
        "entity_id": "sensor.grow_ecp_day_max",
        "unit": "mS/cm",
        "optional": true
      }
    ]
  },
  "system_alerts": {
    "label": "System Alerts",
    "targets": [
      {
        "role": "leak_detected",
        "label": "Leakage Detected",
        "entity_id": "binary_sensor.grow_leak_detected"
      },
      {
        "role": "pump_dry",
        "label": "Pump Dry Run",
        "entity_id": "binary_sensor.grow_pump_dry"
      },
      {
        "role": "sensor_fault",
        "label": "Sensor Fault",
        "entity_id": "binary_sensor.grow_sensor_fault"
      }
    ]
  },
  "live_sensors": {
    "label": "Live Sensors",
    "targets": [
      {
        "role": "actual_vpd",
        "label": "Leaf VPD",
        "entity_id": "sensor.growsensor_blatt_vpd",
        "unit": "kPa"
      },
      {
        "role": "actual_temp",
        "label": "Air Temperature",
        "entity_id": "sensor.growsensor_temperatur",
        "unit": "°C"
      },
      {
        "role": "actual_humidity",
        "label": "Humidity",
        "entity_id": "sensor.growsensor_luftfeuchtigkeit",
        "unit": "%"
      },
      {
        "role": "actual_co2",
        "label": "CO₂",
        "entity_id": "sensor.growsensor_co2",
        "unit": "ppm"
      },
      {
        "role": "actual_vwc",
        "label": "Substrate VWC",
        "entity_id": "sensor.growsensor_bodenfeuchte_berechnet_vwc",
        "unit": "%"
      },
      {
        "role": "water_volume",
        "label": "Water Volume",
        "entity_id": "sensor.water_volume",
        "unit": "%",
        "optional": true
      },
      {
        "role": "water_per_second",
        "label": "Water Per Second",
        "entity_id": "sensor.water_per_second",
        "unit": "ml/s",
        "optional": true
      },
      {
        "role": "actual_ecp",
        "label": "Pore Water EC",
        "entity_id": "sensor.growsensor_porenwasser_ec_berechnet_ecp",
        "unit": "mS/cm"
      }
    ]
  },
  "substrate_sensors": {
    "label": "Substrate Sensors",
    "targets": [
      {
        "role": "substrate_wc",
        "label": "Substrate WC",
        "entity_id": "sensor.substrate_wc",
        "unit": "%",
        "optional": true
      },
      {
        "role": "substrate_ec",
        "label": "Substrate EC",
        "entity_id": "sensor.substrate_ec",
        "unit": "mS/cm",
        "optional": true
      },
      {
        "role": "substrate_temp",
        "label": "Substrate Temp",
        "entity_id": "sensor.substrate_temp",
        "unit": "°C",
        "optional": true
      }
    ]
  },
  "irrigation_sensors": {
    "label": "Irrigation Sensors",
    "targets": [
      {
        "role": "drip_ec",
        "label": "Drip EC",
        "entity_id": "sensor.drip_ec",
        "unit": "mS/cm",
        "optional": true
      },
      {
        "role": "drain_ec",
        "label": "Drain EC",
        "entity_id": "sensor.drain_ec",
        "unit": "mS/cm",
        "optional": true
      },
      {
        "role": "tank_ec",
        "label": "Tank EC",
        "entity_id": "sensor.tank_ec",
        "unit": "mS/cm",
        "optional": true
      },
      {
        "role": "tank_temp",
        "label": "Tank Temp",
        "entity_id": "sensor.tank_temp",
        "unit": "°C",
        "optional": true
      }
    ]
  },
  "climate_station": {
    "label": "Climate Station",
    "targets": [
      {
        "role": "dli",
        "label": "DLI",
        "entity_id": "sensor.grow_dli",
        "unit": "mol/m2",
        "optional": true
      },
      {
        "role": "ppfd",
        "label": "PPFD",
        "entity_id": "sensor.grow_ppfd",
        "unit": "umol",
        "optional": true
      }
    ]
  },
  "dry_room": {
    "label": "Dry Room",
    "targets": [
      {
        "role": "dry_temp",
        "label": "Dry Temp",
        "entity_id": "sensor.dry_room_temp",
        "unit": "°C",
        "optional": true
      },
      {
        "role": "dry_humidity",
        "label": "Dry Humidity",
        "entity_id": "sensor.dry_room_humidity",
        "unit": "%",
        "optional": true
      },
      {
        "role": "dry_vpd",
        "label": "Dry VPD",
        "entity_id": "sensor.dry_room_vpd",
        "unit": "kPa",
        "optional": true
      },
      {
        "role": "water_activity",
        "label": "Water Activity",
        "entity_id": "sensor.dry_room_water_activity",
        "unit": "aw",
        "optional": true
      }
    ]
  },
  "lighting_spectrum": {
    "label": "Lighting Spectrum",
    "inputs": [
      {
        "role": "autopilot",
        "label": "LED Autopilot",
        "entity_id": "input_boolean.led_autopilot_enabled",
        "type": "input_boolean"
      }
    ],
    "targets": [
      {
        "role": "blue",
        "label": "Blue Output",
        "entity_id": "sensor.crop_blau_licht",
        "unit": "%"
      },
      {
        "role": "red",
        "label": "Red Output",
        "entity_id": "sensor.crop_rot_licht",
        "unit": "%"
      },
      {
        "role": "far_red",
        "label": "Far Red Output",
        "entity_id": "sensor.crop_far_red_licht",
        "unit": "%"
      },
      {
        "role": "uva",
        "label": "UVA Hours",
        "entity_id": "sensor.crop_uva_lichtstunden",
        "unit": "h"
      },
      {
        "role": "flower_boost",
        "label": "Flower Boost",
        "entity_id": "sensor.crop_flower_boost_licht",
        "unit": "%"
      }
    ]
  },
  "lighting_targets": {
    "label": "Lighting Targets",
    "targets": [
      {
        "role": "blue_pct",
        "label": "Blue Target",
        "entity_id": "sensor.led_target_blue_pct",
        "unit": "%"
      },
      {
        "role": "red_pct",
        "label": "Red Target",
        "entity_id": "sensor.led_target_red_pct",
        "unit": "%"
      },
      {
        "role": "boost_pct",
        "label": "Boost Target",
        "entity_id": "sensor.led_target_boost_pct",
        "unit": "%"
      }
    ]
  },
  "crop_steering": {
    "label": "Crop Steering",
    "inputs": [
      {
        "role": "p0_duration",
        "label": "P0 Duration",
        "entity_id": "input_number.crop_p0",
        "type": "input_number",
        "unit": "min"
      },
      {
        "role": "drain_target",
        "label": "Drain Target",
        "entity_id": "input_number.crop_drain_percent",
        "type": "input_number",
        "unit": "%"
      },
      {
        "role": "dryback_night",
        "label": "Night Dryback",
        "entity_id": "input_number.crop_dryback_night",
        "type": "input_number",
        "unit": "%"
      },
      {
        "role": "dryback_day",
        "label": "Day Dryback",
        "entity_id": "input_number.crop_dryback_day",
        "type": "input_number",
        "unit": "%"
      },
      {
        "role": "irrigation_amount",
        "label": "Irrigation Amount",
        "entity_id": "input_number.crop_irrigation_amount",
        "type": "input_number",
        "unit": "ml"
      },
      {
        "role": "substrate_ec",
        "label": "Substrate EC",
        "entity_id": "input_number.crop_ec_substrate",
        "type": "input_number",
        "unit": "mS/cm"
      },
      {
        "role": "vwc_target",
        "label": "VWC Target",
        "entity_id": "input_number.crop_vwc",
        "type": "input_number",
        "unit": "%"
      },
      {
        "role": "led_target",
        "label": "LED Target",
        "entity_id": "input_number.crop_led",
        "type": "input_number",
        "unit": "h"
      },
      {
        "role": "co2_target",
        "label": "CO₂ Target",
        "entity_id": "input_number.crop_co2",
        "type": "input_number",
        "unit": "ppm"
      },
      {
        "role": "ph_target",
        "label": "pH Target",
        "entity_id": "input_number.crop_ph",
        "type": "input_number"
      },
      {
        "role": "drain_ec",
        "label": "Drain EC",
        "entity_id": "input_number.drain_ec_wert",
        "type": "input_number",
        "unit": "mS/cm"
      },
      {
        "role": "target_ec",
        "label": "EC Target",
        "entity_id": "input_number.ec_wert",
        "type": "input_number",
        "unit": "mS/cm"
      },
      {
        "role": "led_transition_seconds",
        "label": "LED Transition Seconds",
        "entity_id": "input_number.led_transition_seconds",
        "type": "input_number",
        "unit": "s"
      }
    ]
  },
  "crop_steering_targets": {
    "label": "Crop Steering Targets",
    "targets": [
      {
        "role": "crop_light_hours",
        "label": "Light Hours",
        "entity_id": "sensor.crop_lichtstunden",
        "unit": "h"
      },
      {
        "role": "crop_blue_light",
        "label": "Blue Light",
        "entity_id": "sensor.crop_blau_licht",
        "unit": "%"
      },
      {
        "role": "crop_red_light",
        "label": "Red Light",
        "entity_id": "sensor.crop_rot_licht",
        "unit": "%"
      },
      {
        "role": "crop_far_red_light",
        "label": "Far Red Light",
        "entity_id": "sensor.crop_far_red_licht",
        "unit": "%"
      },
      {
        "role": "crop_far_red_hours",
        "label": "Far Red Hours",
        "entity_id": "sensor.crop_far_red_licht_dauer",
        "unit": "h"
      },
      {
        "role": "crop_flower_boost",
        "label": "Flower Boost",
        "entity_id": "sensor.crop_flower_boost_licht",
        "unit": "%"
      },
      {
        "role": "crop_uva_hours",
        "label": "UVA Hours",
        "entity_id": "sensor.crop_uva_lichtstunden",
        "unit": "h"
      },
      {
        "role": "crop_undercanopy",
        "label": "Undercanopy Hours",
        "entity_id": "sensor.crop_undercanopy",
        "unit": "h"
      }
    ]
  },
  "inventory": {
    "nutrients": {
      "part_a": {
        "name": "Core (Part A)",
        "unit": "g",
        "full_size": 1500,
        "threshold_warn": 250,
        "threshold_warn_percent": 10,
        "role": "base",
        "description": "Basis-Versorgung (N+Ca). 1.5kg Big Pack."
      },
      "part_b": {
        "name": "Vector (Part B)",
        "unit": "g",
        "full_size": 250,
        "threshold_warn": 50,
        "threshold_warn_percent": 10,
        "role": "veg_base",
        "description": "Veg & Early Flower Basis."
      },
      "part_c": {
        "name": "Pulse (Part C)",
        "unit": "g",
        "full_size": 500,
        "threshold_warn": 100,
        "threshold_warn_percent": 10,
        "role": "bloom_base",
        "description": "Bloom Basis (N-frei)."
      },
      "burst": {
        "name": "Burst (PK)",
        "unit": "g",
        "full_size": 250,
        "threshold_warn": 50,
        "threshold_warn_percent": 10,
        "role": "booster",
        "description": "PK-Booster (Late Flower)."
      }
    },
    "additives": {
      "shield": {
        "name": "Shield (Silica)",
        "unit": "g",
        "full_size": 100,
        "threshold_warn": 10,
        "threshold_warn_percent": 10,
        "role": "structure",
        "description": "Silikat (Top Dress, 4g/Pflanze in W1). One-Shot."
      },
      "kelp": {
        "name": "Coast (Kelp)",
        "unit": "g",
        "full_size": 100,
        "threshold_warn": 20,
        "threshold_warn_percent": 10,
        "role": "stress",
        "description": "Stress-Schutz (Pulver)."
      },
      "amino": {
        "name": "Vitality (Amino)",
        "unit": "ml",
        "full_size": 250,
        "threshold_warn": 40,
        "threshold_warn_percent": 10,
        "role": "vitality",
        "description": "Bio-Booster (Liquid)."
      },
      "fulvic": {
        "name": "Humic (Fulvic)",
        "unit": "ml",
        "full_size": 250,
        "threshold_warn": 40,
        "threshold_warn_percent": 10,
        "role": "uptake",
        "description": "Aufnahme-Booster (Liquid)."
      }
    }
  },
  "water_profiles": {
    "base": {
      "N": 0.03882590110495415,
      "Ca": 65.8,
      "Mg": 31.8,
      "K": 1.8,
      "Na": 7.8,
      "Cl": 18.0,
      "S": 70.43,
      "Fe": 0.01,
      "Mn": 0.01,
      "B": 0.01,
      "Mo": 0.01,
      "Zn": 0.01,
      "Cu": 0.01,
      "P": 0.0
    },
    "presets": [
      {
        "id": "default",
        "label": "Default",
        "substrate": "all",
        "osmosisShare": 0.4
      },
      {
        "id": "ro50",
        "label": "RO Mix 50%",
        "substrate": "all",
        "osmosisShare": 0.5
      },
      {
        "id": "ro80",
        "label": "RO Mix 80%",
        "substrate": "all",
        "osmosisShare": 0.8
      }
    ]
  }
}
